var base_url="",ajaxBox='<div class="modal-body"><div class="inner-modal-content infos-success"><div class="alert alert-info p-3 lead" role="alert"><img class="loading mr-3" src="https://assets-1fdf5.kxcdn.com/assets/img/loader.gif" style="width: 3em; height: 3em;" alt="loading..." /> Un moment s\'il vous plait...</div></div></div>';function printContent(el){var restore=document.body.innerHTML,print=document.getElementById(el).innerHTML;document.body.innerHTML=print,window.print(),document.body.innerHTML=restore}function unload(place){var dom;$("#"+place).empty()}function loadInto(url,place,loader){var dom="#"+place,ajax_load='<div class="ajax_box"><img class="loading" src="https://assets-1fdf5.kxcdn.com/assets/img/loader.gif" style="width: 3em; height: 3em;" alt="loading..." /></div>',query=base_url+url;if(loader)var beforeSend=function(data){$(dom).html(ajaxBox)};else var beforeSend=null;return $.ajax({url:encodeURI(query),type:"GET",beforeSend:beforeSend,success:function(data){"no-user"==data?window.location.href=base_url+"/login":$(dom).html(data),$(dom).find("[data-xref]").each((function(){loadInto($(this).data("xref"),$(this).attr("id"))}))},error:function(xhr,ajaxOptions,thrownError){$(dom).append('<div class="ajax_box"><div class="alert alert-danger">Echec du traitement : '+xhr.status+" --- "+thrownError+"</div></div>")},dataType:"html"}),!1}function query(url,callback){var queryurl=base_url+url,out="";return $.get(queryurl,(function(data,status){out=data,callback()})),out}function loadModal(url,size,loader){var sizeClass=size||"md";return $("#appModalDialog").attr("class","modal-dialog modal-"+sizeClass),loadInto(url,"appModalContaint",loader),$("#appModal").modal("show"),!1}function postModal(formId,size,loader,file=!1){var sizeClass=size||"md";return $("#appModalDialog").attr("class","modal-dialog modal-"+sizeClass),file?postInto(formId,"appModalContaint",loader,!0):postInto(formId,"appModalContaint",loader),$("#appModal").modal("show"),!1}function postInto(formId,place,loader,file=!1){var dom="#"+place,form=$("#"+formId),URL=form.attr("action"),ajax_load='<div class="ajax_box"><img class="loading" src="https://assets-1fdf5.kxcdn.com/assets/images/loading.gif" alt="loading..." /></div>';if(form[0].checkValidity()){if(loader)var beforeSend=function(data){$(dom).html(ajaxBof)};else var beforeSend=null;if(file)var formData=new FormData(form[0]);else var formData=form.serialize();return $.ajax({url:URL,type:"POST",data:formData,processData:!file&&"",contentType:!file&&"",beforeSend:beforeSend,success:function(data){"no-user"==data?window.location.href=base_url+"/login":$(dom).html(data),$(dom).find("[data-xref]").each((function(){loadInto($(this).data("xref"),$(this).attr("id"))}))},error:function(xhr,ajaxOptions,thrownError){$(dom).append('<div class="ajax_box"><div class="alert alert-danger">Echec du traitement : '+xhr.status+" --- "+thrownError+"</div></div>")},dataType:"html"}),!1}form[0].classList.add("was-validated")}function xquery(url,callback){var query=base_url+url;$.ajax({url:encodeURI(query),type:"GET",success:function(data){"no-user"==data?window.location.href=base_url+"/login":callback(void 0,data)},error:function(xhr,ajaxOptions,thrownError){callback(thrownError)},dataType:"html"})}function xHref(url,place){loadInto(url,place,!1),window.history.pushState({href:url,place:place},"",url)}$(document).ready((function(){$("[data-xref]").each((function(){loadInto($(this).data("xref"),$(this).attr("id"))})),$(document).on("click","[data-xtarget]",(function(e){var url=$(this).attr("href"),xtarget=$("#"+$(this).data("xtarget"));e.preventDefault(),xquery(url,(function(err,data){err||(xtarget.html(data),xtarget.find("[data-xref]").each((function(){loadInto($(this).data("xref"),$(this).attr("id"))})),xtarget.find(".selectpicker").selectpicker(),window.history.pushState({href:url,target:$(this).data("xtarget")},"",url))}))})),window.addEventListener("popstate",(function(e){e.state&&loadInto(e.state.href,e.state.target,!1)}))}));