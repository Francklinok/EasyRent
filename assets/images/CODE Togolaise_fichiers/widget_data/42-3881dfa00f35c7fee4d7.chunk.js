(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{170:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return g})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return i}));var r=function(t,e,n){var r;return function(){var a=null,o=arguments,i=function(){r=null,n||t.apply(a,o)},s=n&&!r;clearTimeout(r),r=window.setTimeout(i,e),s&&t.apply(a,o)}},a=function(t){var e=t.replace("#","");return.299*parseInt(e.slice(0,2),16)+.587*parseInt(e.slice(2,4),16)+.114*parseInt(e.slice(4,6),16)>186?"#000000":"#FFFFFF"},o=function(t){var e="";if(t>=60&&t<3600){var n=Math.floor(t/60);e=n+" Min";var r=60===n?0:Math.floor(t%60);return e+(r>0?" "+r+" Sec":"")}if(t>=3600&&t<86400){var a=Math.floor(t/3600);e=a+" Hr";var o=t%3600<60||24===a?0:Math.floor(t%3600/60);return e+(o>0?" "+o+" Min":"")}if(t>=86400){var i=Math.floor(t/86400);e=i+" Day";var s=t%86400<3600||i>=364?0:Math.floor(t%86400/3600);return e+(s>0?" "+s+" Hr":"")}return Math.floor(t)+" Sec"},i=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=1024),void 0===n&&(n=!1);var r=t;return t.length>e&&(r=t.substring(0,e)),n&&(r+="..."),r};function s(t){try{var e=String(t).toLowerCase();return Boolean(JSON.parse(e))}catch(n){return!1}}function l(t){return t.slice().sort((function(t,e){return t-e}))}function u(t,e){var n,r,a,o=(r=1,(a=e)<(n=0)?n:a>r?r:a),i=(t.length-1)*o,s=Math.floor(i),l=i-s;return void 0!==t[s+1]?t[s]+l*(t[s+1]-t[s]):t[s]}var c=function(t,e){var n=l(t);return e.map((function(t){return u(n,t)}))},f=/{{(.*?)}}/g,p=function(t){return(t||"").replace(/\b(\w)/g,(function(t){return t.toUpperCase()}))},v=function(t){var e=t.user,n=null!=e&&e.name?e.name.split(" ").shift():"";return p(n)},m=function(t){var e=t.user;if(e&&e.name){var n=e.name.split(" ").length>1?e.name.split(" ").pop():"";return p(n)}return""},d=function(t){var e,n=t.conversation,r=n.meta,a=r.assignee,o=r.sender,i=n.id;return{"contact.name":p((null==o?void 0:o.name)||""),"contact.first_name":v({user:o}),"contact.last_name":m({user:o}),"contact.email":null==o?void 0:o.email,"contact.phone":null==o?void 0:o.phone_number,"contact.id":null==o?void 0:o.id,"conversation.id":i,"agent.name":p((null==a?void 0:a.name)||""),"agent.first_name":v({user:a}),"agent.last_name":m({user:a}),"agent.email":null!=(e=null==a?void 0:a.email)?e:""}},b=function(t){var e=t.message,n=t.variables;return e.replace(f,(function(t,e){return n[e.trim()]?n[e.trim().toLowerCase()]:""}))},g=function(t){var e=t.message,n=t.variables,r=e.replace(/```(?:.|\n)+?```/g,"").match(f);return r?r.map((function(t){return t.replace("{{","").replace("}}","").trim()})).filter((function(t){return!n[t]})):[]}},1812:function(t,e,n){"use strict";var r=n(36),a=n(242).trim;r({target:"String",proto:!0,forced:n(2244)("trim")},{trim:function(){return a(this)}})},1904:function(t,e,n){"use strict";n(8);var r={props:{block:{type:Boolean,default:!1},type:{type:String,default:"blue"},bgColor:{type:String,default:""},textColor:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{buttonClassName:function(){var t="text-white py-3 px-4 rounded shadow-sm leading-4";return"clear"===this.type&&(t="flex mx-auto mt-4 text-xs leading-3 w-auto text-black-600"),"blue"!==this.type||Object.keys(this.buttonStyles).length||(t="".concat(t," bg-woot-500 hover:bg-woot-700")),this.block&&(t="".concat(t," w-full")),t},buttonStyles:function(){var t={};return this.bgColor&&(t.backgroundColor=this.bgColor),this.textColor&&(t.color=this.textColor),t}},methods:{onClick:function(t){this.$emit("click",t)}}},a=n(1),o=Object(a.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{class:t.buttonClassName,style:t.buttonStyles,attrs:{disabled:t.disabled},on:{click:t.onClick}},[t._t("default")],2)}),[],!1,null,null,null);e.a=o.exports},2244:function(t,e,n){var r=n(34),a=n(243);t.exports=function(t){return r((function(){return!!a[t]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[t]()||a[t].name!==t}))}},3219:function(t,e,n){"use strict";n.r(e);n(8),n(4),n(7),n(10),n(9),n(11);var r=n(385),a=n(6),o=n(170),i=n(2164),s=(n(43),n(48),n(22),{name:"GroupedAvatars",components:{Thumbnail:n(70).a},props:{users:{type:Array,default:function(){return[]}}}}),l=n(1),u={name:"AvailableAgents",components:{GroupedAvatars:Object(l.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex"},t._l(t.users,(function(t,e){return n("span",{key:t.id,class:(e?"-ml-4":"")+" inline-block rounded-full text-white shadow-solid"},[n("thumbnail",{attrs:{size:"40px",username:t.name,src:t.avatar,"has-border":""}})],1)})),0)}),[],!1,null,null,null).exports},props:{agents:{type:Array,default:function(){return[]}}},computed:{users:function(){return this.agents.slice(0,5).map((function(t){return{id:t.id,avatar:t.avatar_url,name:t.name}}))}}},c=Object(l.a)(u,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("grouped-avatars",{attrs:{users:t.users}})}),[],!1,null,null,null).exports,f=n(1904),p=n(1838),v=n(331);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g={name:"TeamAvailability",components:{AvailableAgents:c,CustomButton:f.a},mixins:[r.a,i.a,p.a,v.a],props:{availableAgents:{type:Array,default:function(){}},hasConversation:{type:Boolean,default:!1}},computed:d(d({},Object(a.mapGetters)({widgetColor:"appConfig/getWidgetColor"})),{},{textColor:function(){return Object(o.c)(this.widgetColor)},isOnline:function(){var t=this.channelConfig.workingHoursEnabled,e=this.availableAgents.length>0;return t?this.isInBetweenTheWorkingHours:e}}),methods:{startConversation:function(){this.$emit("start-conversation")}}},h=Object(l.a)(g,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5"},[n("div",{staticClass:"flex items-center justify-between mb-4"},[n("div",{staticClass:"max-w-xs",class:t.$dm("text-black-700","dark:text-slate-50")},[n("div",{staticClass:"text-base leading-5 font-medium mb-1"},[t._v("\n        "+t._s(t.isOnline?t.$t("TEAM_AVAILABILITY.ONLINE"):t.$t("TEAM_AVAILABILITY.OFFLINE"))+"\n      ")]),t._v(" "),n("div",{staticClass:"text-xs leading-3 mt-1"},[t._v("\n        "+t._s(t.replyWaitMessage)+"\n      ")])]),t._v(" "),t.isOnline?n("available-agents",{attrs:{agents:t.availableAgents}}):t._e()],1),t._v(" "),n("custom-button",{staticClass:"font-medium",attrs:{block:"","bg-color":t.widgetColor,"text-color":t.textColor},on:{click:t.startConversation}},[t._v("\n    "+t._s(t.hasConversation?t.$t("CONTINUE_CONVERSATION"):t.$t("START_CONVERSATION"))+"\n  ")])],1)}),[],!1,null,null,null).exports,y=n(1816);function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w={name:"Home",components:{TeamAvailability:h},mixins:[r.a,y.a],props:{hasFetched:{type:Boolean,default:!1},isCampaignViewClicked:{type:Boolean,default:!1}},data:function(){return{}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(a.mapGetters)({availableAgents:"agent/availableAgents",activeCampaign:"campaign/getActiveCampaign",conversationSize:"conversation/getConversationSize"})),methods:{startConversation:function(){return this.preChatFormEnabled&&!this.conversationSize?this.replaceRoute("prechat-form"):this.replaceRoute("messages")}}},x=w,j=Object(l.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-1 flex-col justify-end"},[n("div",{staticClass:"flex flex-1 overflow-auto"}),t._v(" "),n("team-availability",{attrs:{"available-agents":t.availableAgents,"has-conversation":!!t.conversationSize},on:{"start-conversation":t.startConversation}})],1)}),[],!1,null,null,null);e.default=j.exports}}]);
//# sourceMappingURL=42-3881dfa00f35c7fee4d7.chunk.js.map